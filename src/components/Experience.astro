---
import type { Experience } from '../data/cv';

interface Props {
  experiences: Experience[];
}

const { experiences } = Astro.props;
---

<section class="py-12 print:py-4">
  <h2 class="text-2xl font-bold font-heading mb-8 text-zinc-900 dark:text-zinc-100 print:mb-4 print:text-xl">Experience</h2>
  
  <div class="space-y-12 relative border-l border-zinc-200 dark:border-zinc-800 ml-3 pl-8 sm:ml-0 sm:pl-0 sm:border-0 sm:space-y-8 print:space-y-4 print:ml-0 print:pl-0 print:border-0">
    
    {experiences.map((exp) => (
      <div class="relative sm:grid sm:grid-cols-12 sm:gap-8 print:gap-2 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 p-4 -mx-4 rounded-xl transition-colors group">
        
       {/* Mobile Timeline Dot */}
       <div class="absolute -left-[37px] top-6 w-3 h-3 rounded-full border border-zinc-200 bg-white dark:border-zinc-700 dark:bg-zinc-900 sm:hidden print:hidden"></div>

        <div class="sm:col-span-3 print:col-span-2 text-sm text-zinc-500 dark:text-zinc-400 pt-1 print:text-zinc-600 flex flex-col">
          <span>From {exp.startDate}</span>
          <span>until {exp.endDate}</span>
        </div>
        
        <div class="sm:col-span-9 print:col-span-10 space-y-2 print:space-y-1">
          <h3 class="font-semibold text-zinc-900 dark:text-zinc-100 group-hover:text-black dark:group-hover:text-white transition-colors print:text-zinc-900">
            {exp.role} <span class="text-zinc-400 font-normal">at</span> {exp.company}
          </h3>
          <p class="text-sm text-zinc-500 dark:text-zinc-500">{exp.location}</p>
          
          {exp.description && (
            <ul class="pt-2 space-y-1.5 list-disc list-outside ml-4 text-sm text-zinc-600 dark:text-zinc-400 marker:text-zinc-300 dark:marker:text-zinc-700 print:text-zinc-800">
              {exp.description.map((item) => (
                <li class="pl-1 print:whitespace-normal print:break-words">{item}</li>
              ))}
            </ul>
          )}
        </div>
      </div>
    ))}
  </div>
</section>
